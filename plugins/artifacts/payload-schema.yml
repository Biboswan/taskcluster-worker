$schema: http://json-schema.org/draft-04/schema#
title: payload
description: Artifacts to be published
type: array
items:
  type: object
  properties:
    type:
      title: Upload type
      description: Artifacts can be either an individual `file` or a `directory` containing potentially multiple files with recursively included subdirectories
      type: string
      enum: [file, directory]
    path:
      title: Artifact Path
      description: Filesystem path of artifact
      type: string
      pattern: "^.*[^/]$"
    name:
      title: Artifact Name
      description: This will be the leading path to directories and the full name for files that are uploaded to s3. It must not begin or end with "/" and must only contain printable ascii characters otherwise.
      type: string
      pattern: "^([\x20-\x2e\x30-\x7e][\x20-\x7e]*)[\x20-\x2e\x30-\x7e]$"
    expires:
      title: Expiry Tate and Time
      description: Date when artifact should expire must be in the future
      type: string
      format: date-time

  required: [type, path, name]
